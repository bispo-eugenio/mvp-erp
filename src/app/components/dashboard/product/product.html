<section class="product-forms-container position-relative">
    <dialog class="product-forms-container__info position-absolute">
        <div class="position-relative">
            <div class="product-forms-container__close-modal position-absolute" (click)="this.dialogInfoSwitch(false)">
                <ion-icon name="close-outline"></ion-icon>
            </div>
            <h3>Falha no Formulário</h3>
            <p>{{this.describeDialog}}</p>
        </div>
    </dialog>
    <dialog class="product-forms-container__delete position-absolute">
        <div class="product-forms-container__delete-close-modal position-absolute" (click)="dialogDeleteSwitch(false)">
            <ion-icon name="close-outline"></ion-icon>
        </div>
        <small>Descrição: apaga por id do produto</small>
        <input type="number" class="product-forms-container__delete-input" placeholder="Ex: 999999" id="delete-input">
        <button class="product-forms-container__delete-button" (click)="this.deleteProduct()">deletar</button>
    </dialog>
    <div>
        <div class="w-100 d-flex justify-content-center">
            <h2 class="product-forms-container__title p-3">Cadastro de Produto</h2>
        </div>
        <form class="forms-container d-flex justify-content-evenly align-items-center flex-wrap">
            <div class="forms-container__box">
                <div class="forms-container__item">
                    <ion-icon name="document-text-outline"></ion-icon>
                    <input type="text" placeholder="Nome" name="name"
                        class="forms-container__input forms-container__name" [(ngModel)]="this.product.name">
                </div>
                <div class="forms-container__item">
                    <ion-icon name="chevron-down-outline"></ion-icon>
                    <input type="number" placeholder="Quantidade mínima" name="min-quantity"
                        class="forms-container__input forms-container__min" [(ngModel)]="this.product.minQuantity">
                </div>
            </div>
            <div class="forms-container__box">
                <div class="forms-container__item">
                    <ion-icon name="chevron-up-outline"></ion-icon>
                    <input type="number" placeholder="Quantidade Máxima" name="max-quantity"
                        class="forms-container__input forms-container__max" [(ngModel)]="this.product.maxQuantity">
                </div>
                <div class="forms-container__item">
                    <ion-icon name="server-outline"></ion-icon>
                    <input type="number" placeholder="Quantidade" name="quantity"
                        class="forms-container__input forms-container__quantity" [(ngModel)]="this.product.quantity">
                </div>
            </div>
            <div class="forms-container__box">
                <div class="forms-container__item">
                    <ion-icon name="pricetag-outline"></ion-icon>
                    <input type="number" placeholder="Preço" name="price"
                        class="forms-container__input forms-container__price" [(ngModel)]="this.product.price">
                </div>
                <div class="forms-container__item">
                    <ion-icon name="trending-up-outline"></ion-icon>
                    <input type="number" placeholder="Lucro" name="price"
                        class="forms-container__input forms-container__profit" [(ngModel)]="this.product.profit">
                </div>

            </div>
            <div class="forms-container__box-button">
                <button class="forms-container__button" (click)="this.registerProduct()">cadastrar</button>
                <button class="forms-container__button" (click)="this.dialogDeleteSwitch(true)">deletar</button>
            </div>
        </form>
        <div>
            <h3 class="ms-4 mt-3">Produtos</h3>
        </div>
        <div
            class="product-forms-container__product-box d-flex flex-wrap justify-content-evenly overflow-y-auto gap-2 p-2 m-2">
            @if(this.showProductCollection.length !== 0){
            @for(product of this.showProductCollection; track product.id){
            <app-product-card [name]="product.name" [id]="product.id" [maxQuantity]="product.maxQuantity"
                [minQuantity]="product.minQuantity" [quantity]="product.quantity"
                [total]="product.total"></app-product-card>
            }
            } @else {
            <h4 class="my-auto">Não há produto cadastrado.</h4>
            }
        </div>
    </div>
</section>